<div class="flex flex-col md:flex-row justify-between items-start mb-4 space-y-4 md:space-y-0 md:space-x-4">
  <div class="flex-1">
    <label for="sort-by" class="block text-sm md:text-base font-medium text-gray-700">Sort By:</label>
    <select id="sort-by" (change)="sortTasks($event)" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
      <option value="dueDate">Due Date</option>
      <option value="createdDate">Created Date</option>
      <option value="status">Status</option>
    </select>
  </div>

  <div class="flex-1">
    <label for="filter-by-status" class="block text-sm md:text-base font-medium text-gray-700">Filter by Status:</label>
    <select id="filter-by-status" (change)="filterTasks($event)" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
      <option value="">All</option>
      <option value="to-do">To Do</option>
      <option value="in-progress">In Progress</option>
      <option value="completed">Completed</option>
    </select>
  </div>
</div>

<div class="task-container grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mt-4">
  <!-- Low Priority Section -->
  <div class="priority-section low-priority">
    <h2 class="text-base md:text-lg lg:text-xl font-semibold mb-2 text-center text-green-600">Low Priority</h2>
    <ng-container *ngFor="let task of filteredTasks">
      <div *ngIf="task.priority === 'low'"
        class="task-card p-4 rounded-lg shadow-lg bg-white hover:bg-green-50 transition duration-300 transform hover:scale-105">
        <h3 class="text-sm md:text-base lg:text-lg font-bold mb-1">{{ task.title }}</h3>
        <p class="text-xs md:text-sm lg:text-base mb-1 text-gray-600">{{ task.description }}</p>
        <div class="flex justify-between items-center text-xs md:text-sm lg:text-base text-gray-500 mb-1">
          <div>
            <span>Due:</span>
            <span class="font-medium ml-1">{{ task.dueDate | date:'mediumDate' }}</span>
          </div>
          <div>
            <span>Priority:</span>
            <span class="font-medium ml-1 capitalize">{{ task.priority }}</span>
          </div>
        </div>
        <div class="text-xs md:text-sm lg:text-base text-gray-500">
          <span>Time Remaining:</span>
          <span class="font-medium ml-1">{{ getRemainingTime(task.dueDate) }}</span>
        </div>
        <div class="mt-2 text-xs md:text-sm lg:text-base text-gray-400">
          <p>Created on: {{ task.createdDate | date:'shortDate' }}</p>
          <p>Status: <span class="font-semibold capitalize">{{ task.status }}</span></p>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- Medium Priority Section -->
  <div class="priority-section medium-priority">
    <h2 class="text-base md:text-lg lg:text-xl font-semibold mb-2 text-center text-yellow-600">Medium Priority</h2>
    <ng-container *ngFor="let task of filteredTasks">
      <div *ngIf="task.priority === 'medium'"
        class="task-card p-4 rounded-lg shadow-lg bg-white hover:bg-yellow-50 transition duration-300 transform hover:scale-105">
        <h3 class="text-sm md:text-base lg:text-lg font-bold mb-1">{{ task.title }}</h3>
        <p class="text-xs md:text-sm lg:text-base mb-1 text-gray-600">{{ task.description }}</p>
        <div class="flex justify-between items-center text-xs md:text-sm lg:text-base text-gray-500 mb-1">
          <div>
            <span>Due:</span>
            <span class="font-medium ml-1">{{ task.dueDate | date:'mediumDate' }}</span>
          </div>
          <div>
            <span>Priority:</span>
            <span class="font-medium ml-1 capitalize">{{ task.priority }}</span>
          </div>
        </div>
        <div class="text-xs md:text-sm lg:text-base text-gray-500">
          <span>Time Remaining:</span>
          <span class="font-medium ml-1">{{ getRemainingTime(task.dueDate) }}</span>
        </div>
        <div class="mt-2 text-xs md:text-sm lg:text-base text-gray-400">
          <p>Created on: {{ task.createdDate | date:'shortDate' }}</p>
          <p>Status: <span class="font-semibold capitalize">{{ task.status }}</span></p>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- High Priority Section -->
  <div class="priority-section high-priority">
    <h2 class="text-base md:text-lg lg:text-xl font-semibold mb-2 text-center text-red-600">High Priority</h2>
    <ng-container *ngFor="let task of filteredTasks">
      <div *ngIf="task.priority === 'high'"
        class="task-card p-4 rounded-lg shadow-lg bg-white hover:bg-red-50 transition duration-300 transform hover:scale-105">
        <h3 class="text-sm md:text-base lg:text-lg font-bold mb-1">{{ task.title }}</h3>
        <p class="text-xs md:text-sm lg:text-base mb-1 text-gray-600">{{ task.description }}</p>
        <div class="flex justify-between items-center text-xs md:text-sm lg:text-base text-gray-500 mb-1">
          <div>
            <span>Due:</span>
            <span class="font-medium ml-1">{{ task.dueDate | date:'mediumDate' }}</span>
          </div>
          <div>
            <span>Priority:</span>
            <span class="font-medium ml-1 capitalize">{{ task.priority }}</span>
          </div>
        </div>
        <div class="text-xs md:text-sm lg:text-base text-gray-500">
          <span>Time Remaining:</span>
          <span class="font-medium ml-1">{{ getRemainingTime(task.dueDate) }}</span>
        </div>
        <div class="mt-2 text-xs md:text-sm lg:text-base text-gray-400">
          <p>Created on: {{ task.createdDate | date:'shortDate' }}</p>
          <p>Status: <span class="font-semibold capitalize">{{ task.status }}</span></p>
        </div>
      </div>
    </ng-container>
  </div>
</div>